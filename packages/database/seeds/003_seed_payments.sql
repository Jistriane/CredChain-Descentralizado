-- Seed: 003_seed_payments.sql
-- Description: Seed initial payments for development and testing
-- Created: 2024-01-01
-- Author: CredChain Team

-- Insert payments for test users
INSERT INTO payments (
    id, user_id, amount, currency, payment_method, payment_status, due_date, 
    paid_date, description, reference_number, external_payment_id, payment_gateway, 
    gateway_response, fees, net_amount, blockchain_tx_hash, blockchain_block_number, 
    proof_hash, metadata, created_at, updated_at
) VALUES (
    '750e8400-e29b-41d4-a716-446655440001',
    '550e8400-e29b-41d4-a716-446655440004', -- joao.silva
    1500.00,
    'BRL',
    'PIX',
    'completed',
    '2024-01-15',
    '2024-01-14 10:30:00',
    'Pagamento de empréstimo pessoal',
    'REF-001',
    'PIX-123456789',
    'PIX',
    '{"status": "success", "transaction_id": "PIX-123456789", "authorization_code": "AUTH-001"}',
    0.00,
    1500.00,
    '0x1111111111111111111111111111111111111111111111111111111111111111',
    12360,
    'QmHash111111111111111111111111111111111111111111111111111111111111',
    '{"installment": 1, "total_installments": 12, "interest_rate": 2.5}',
    '2024-01-14 10:30:00',
    '2024-01-14 10:30:00'
), (
    '750e8400-e29b-41d4-a716-446655440002',
    '550e8400-e29b-41d4-a716-446655440004', -- joao.silva
    1500.00,
    'BRL',
    'PIX',
    'completed',
    '2024-02-15',
    '2024-02-14 09:15:00',
    'Pagamento de empréstimo pessoal',
    'REF-002',
    'PIX-123456790',
    'PIX',
    '{"status": "success", "transaction_id": "PIX-123456790", "authorization_code": "AUTH-002"}',
    0.00,
    1500.00,
    '0x2222222222222222222222222222222222222222222222222222222222222222',
    12370,
    'QmHash222222222222222222222222222222222222222222222222222222222222',
    '{"installment": 2, "total_installments": 12, "interest_rate": 2.5}',
    '2024-02-14 09:15:00',
    '2024-02-14 09:15:00'
), (
    '750e8400-e29b-41d4-a716-446655440003',
    '550e8400-e29b-41d4-a716-446655440004', -- joao.silva
    1500.00,
    'BRL',
    'PIX',
    'completed',
    '2024-03-15',
    '2024-03-14 11:45:00',
    'Pagamento de empréstimo pessoal',
    'REF-003',
    'PIX-123456791',
    'PIX',
    '{"status": "success", "transaction_id": "PIX-123456791", "authorization_code": "AUTH-003"}',
    0.00,
    1500.00,
    '0x3333333333333333333333333333333333333333333333333333333333333333',
    12380,
    'QmHash333333333333333333333333333333333333333333333333333333333333',
    '{"installment": 3, "total_installments": 12, "interest_rate": 2.5}',
    '2024-03-14 11:45:00',
    '2024-03-14 11:45:00'
), (
    '750e8400-e29b-41d4-a716-446655440004',
    '550e8400-e29b-41d4-a716-446655440005', -- maria.santos
    2000.00,
    'BRL',
    'credit_card',
    'completed',
    '2024-01-20',
    '2024-01-19 14:20:00',
    'Pagamento de cartão de crédito',
    'REF-004',
    'CC-987654321',
    'Stripe',
    '{"status": "success", "transaction_id": "CC-987654321", "authorization_code": "AUTH-004"}',
    2.50,
    1997.50,
    '0x4444444444444444444444444444444444444444444444444444444444444444',
    12365,
    'QmHash444444444444444444444444444444444444444444444444444444444444',
    '{"installment": 1, "total_installments": 1, "interest_rate": 0.0}',
    '2024-01-19 14:20:00',
    '2024-01-19 14:20:00'
), (
    '750e8400-e29b-41d4-a716-446655440005',
    '550e8400-e29b-41d4-a716-446655440005', -- maria.santos
    800.00,
    'BRL',
    'PIX',
    'completed',
    '2024-02-10',
    '2024-02-09 16:30:00',
    'Pagamento de conta de luz',
    'REF-005',
    'PIX-987654322',
    'PIX',
    '{"status": "success", "transaction_id": "PIX-987654322", "authorization_code": "AUTH-005"}',
    0.00,
    800.00,
    '0x5555555555555555555555555555555555555555555555555555555555555555',
    12375,
    'QmHash555555555555555555555555555555555555555555555555555555555555',
    '{"utility": "electricity", "provider": "CPFL", "account_number": "123456789"}',
    '2024-02-09 16:30:00',
    '2024-02-09 16:30:00'
), (
    '750e8400-e29b-41d4-a716-446655440006',
    '550e8400-e29b-41d4-a716-446655440006', -- pedro.oliveira
    1200.00,
    'BRL',
    'PIX',
    'pending',
    '2024-04-15',
    NULL,
    'Pagamento de empréstimo pessoal',
    'REF-006',
    NULL,
    'PIX',
    NULL,
    0.00,
    1200.00,
    NULL,
    NULL,
    NULL,
    '{"installment": 1, "total_installments": 6, "interest_rate": 3.0}',
    '2024-04-01 00:00:00',
    '2024-04-01 00:00:00'
), (
    '750e8400-e29b-41d4-a716-446655440007',
    '550e8400-e29b-41d4-a716-446655440007', -- ana.costa
    500.00,
    'BRL',
    'PIX',
    'completed',
    '2024-03-05',
    '2024-03-04 08:15:00',
    'Pagamento de conta de água',
    'REF-007',
    'PIX-555666777',
    'PIX',
    '{"status": "success", "transaction_id": "PIX-555666777", "authorization_code": "AUTH-007"}',
    0.00,
    500.00,
    '0x6666666666666666666666666666666666666666666666666666666666666666',
    12385,
    'QmHash666666666666666666666666666666666666666666666666666666666666',
    '{"utility": "water", "provider": "SABESP", "account_number": "987654321"}',
    '2024-03-04 08:15:00',
    '2024-03-04 08:15:00'
), (
    '750e8400-e29b-41d4-a716-446655440008',
    '550e8400-e29b-41d4-a716-446655440008', -- carlos.ferreira
    300.00,
    'BRL',
    'PIX',
    'failed',
    '2024-02-28',
    NULL,
    'Pagamento de conta de energia',
    'REF-008',
    NULL,
    'PIX',
    '{"status": "failed", "error": "insufficient_funds", "error_code": "E001"}',
    0.00,
    300.00,
    NULL,
    NULL,
    NULL,
    '{"utility": "electricity", "provider": "ENEL", "account_number": "456789123"}',
    '2024-02-28 00:00:00',
    '2024-02-28 00:00:00'
);

-- Insert payments for institutional users
INSERT INTO payments (
    id, user_id, amount, currency, payment_method, payment_status, due_date, 
    paid_date, description, reference_number, external_payment_id, payment_gateway, 
    gateway_response, fees, net_amount, blockchain_tx_hash, blockchain_block_number, 
    proof_hash, metadata, created_at, updated_at
) VALUES (
    '750e8400-e29b-41d4-a716-446655440009',
    '550e8400-e29b-41d4-a716-446655440009', -- banco.brasil
    50000.00,
    'BRL',
    'wire_transfer',
    'completed',
    '2024-01-31',
    '2024-01-30 15:00:00',
    'Transferência bancária para CredChain',
    'REF-009',
    'WT-111222333',
    'Banco do Brasil',
    '{"status": "success", "transaction_id": "WT-111222333", "authorization_code": "AUTH-009"}',
    25.00,
    49975.00,
    '0x7777777777777777777777777777777777777777777777777777777777777777',
    12390,
    'QmHash777777777777777777777777777777777777777777777777777777777777',
    '{"transfer_type": "institutional", "purpose": "credit_analysis", "amount": 50000.00}',
    '2024-01-30 15:00:00',
    '2024-01-30 15:00:00'
), (
    '750e8400-e29b-41d4-a716-446655440010',
    '550e8400-e29b-41d4-a716-446655440010', -- itau
    75000.00,
    'BRL',
    'wire_transfer',
    'completed',
    '2024-02-28',
    '2024-02-27 14:30:00',
    'Transferência bancária para CredChain',
    'REF-010',
    'WT-444555666',
    'Itaú Unibanco',
    '{"status": "success", "transaction_id": "WT-444555666", "authorization_code": "AUTH-010"}',
    37.50,
    74962.50,
    '0x8888888888888888888888888888888888888888888888888888888888888888',
    12400,
    'QmHash888888888888888888888888888888888888888888888888888888888888',
    '{"transfer_type": "institutional", "purpose": "credit_analysis", "amount": 75000.00}',
    '2024-02-27 14:30:00',
    '2024-02-27 14:30:00'
), (
    '750e8400-e29b-41d4-a716-446655440011',
    '550e8400-e29b-41d4-a716-446655440011', -- bradesco
    100000.00,
    'BRL',
    'wire_transfer',
    'completed',
    '2024-03-31',
    '2024-03-30 16:45:00',
    'Transferência bancária para CredChain',
    'REF-011',
    'WT-777888999',
    'Banco Bradesco',
    '{"status": "success", "transaction_id": "WT-777888999", "authorization_code": "AUTH-011"}',
    50.00,
    99950.00,
    '0x9999999999999999999999999999999999999999999999999999999999999999',
    12410,
    'QmHash999999999999999999999999999999999999999999999999999999999999',
    '{"transfer_type": "institutional", "purpose": "credit_analysis", "amount": 100000.00}',
    '2024-03-30 16:45:00',
    '2024-03-30 16:45:00'
);

-- Comments
COMMENT ON TABLE payments IS 'Payments seeded with initial data for development and testing';
